Drools KIE Server showcase Docker image
=======================================

Drools KIE Server showcase [Docker](http://docker.io/) image.

More information of KIE Server available at [JBoss documentation](http://docs.jboss.org/drools/release/7.0.0.Final/drools-docs/html_single/#_ch.kie.server).

Table of contents
------------------

* Introduction
* Usage
* Users and roles
* Logging
* Extending this image
* Experimenting
* Notes
* Release notes

Introduction
------------

The image contains: 
              
* JBoss Wildfly 10.1.0.Final
* JBoss Drools KIE Server 7.0.0.Final

This is a **ready to run Docker image for Drools KIE Server**. Just run it and try the Drools runtime execution server!                   

The JBoss KIE Execution server is intended to be used as a standalone runtime execution environment managed by a KIE Drools Workbench or a jBPM Workbench application that acts as a controller.             

**In this Docker image, dependency of Workbench is removed.** That means, there is not GUI based console.

Usage
-----

You can build Docker image by running:                                 
    ./kie-server-unmanaged/showcase/build.sh

Then, you can run several execution server instances by running:                                 
    
    ./kie-server-unmanaged/showcase/start.sh
    OR:
    docker run -p 8280:8080 -d --name kie-server -v ${HOME}/.m2/repository:/opt/jboss/.m2/repository jboss/kie-server-unmanaged-showcase:latest

Note: Port `8080` is bind to port `8280` on the docker host.         
Note: Mave local repository (`/opt/jboss/.m2/repository`) inside docker container had been mount to your local repository (`${HOME}/.m2/repository`) on docker host machine. So that you can build kjar at host machine, then deploy to kie-server.


For more information, please read the documentation at [Installing the KIE Server](http://docs.jboss.org/drools/release/7.0.0.Final/drools-docs/html_single/#_installing_the_kie_server).                 

The **REST API service** is located at:               

    http://localhost:8280/kie-server/services/rest/server/

Users and roles
----------------

This image provides a default user `kieserver` using password `kieserver1!` and with the role `kie-server`.                      

Logging
-------

You can see all logs generated by the `standalone` binary running:

    docker logs [-f] <container_id>
    
You can attach the container by running:

    docker attach <container_id>

The Drools KIE Server web application logs can be found inside the container at path:

    /opt/jboss/wildfly/standalone/log/server.log

    Example:
    docker exec -it <container_id> /bin/sh
    sh-4.2$ tail -f /opt/jboss/wildfly/standalone/log/server.log


Experimenting
-------------

To spin up a shell in one of the containers try:

    docker run -t -i -p 8080:8080 jboss/kie-server-unmanaged-showcase:latest /bin/bash

You can then noodle around the container and run stuff & look at files etc.

Notes
-----

* The context path for Drools KIE Server application services is `kie-server`
* Drools KIE Server version is `7.0.0.Final`
* Drools KIE Server requires running JBoss Wildfly using the `full` server profile
* No support for clustering                
* This image is not intended to be run on cloud environments such as RedHat OpenShift or Amazon EC2, as it does not meet all the requirements.                      
* Please give us your feedback or report a issue at [Drools Setup](https://groups.google.com/forum/#!forum/drools-setup) or [Drools Usage](https://groups.google.com/forum/#!forum/drools-usage) Google groups.              

Release notes
-------------

**7.0.0.Final**

* See release notes for [KIE Server](https://hub.docker.com/r/jboss/kie-server/) version `7.0.0.Final`                     
* Fixed external maven repository configuration. See [DROOLS-831](https://issues.jboss.org/browse/DROOLS-831)
